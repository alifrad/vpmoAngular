<div class="chat-wrap" #chatContainer>

	<div class="chat-section" *ngFor="let message of messages; let i = index" [ngClass]="{
					'me': message.author === currentUser.username,
					'contact': message.author !== currentUser.username,
                    'last-of-group': isLastMessageOfGroup(message, i)
				}">
        <div class="chat-avatar">
        	<img *ngIf="message.attributes.authorAvatar  == null" src="./assets/images/user.png" class="avatar"/>
        	<img *ngIf="message.attributes.authorAvatar  != null" [src]="message.attributes.authorAvatar" class="avatar"/>
        </div>
        <div class="chat-title">
            <h3><a href="#">{{message.attributes.authorName}}</a></h3>
            <span>{{message.date_created}}</span>
        </div>
        <div class="chat-body">
            <p [innerHTML]="message.body"></p>
        </div>
    </div>
</div>

 <form #replyForm="ngForm"
    (ngSubmit)="sendMessage(chatMsg); chatMsg=''">
    <input name="chatMsg" [(ngModel)]="chatMsg" type="text" placeholder="Type message..." class="form-control">
    <input type="submit" value="Send" class="btn btn-info">
</form>
