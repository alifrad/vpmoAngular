<div class="container">
    <div class="row valign-wrapper">
        <div class="col s6 offset-s3 valign">
            <div class="card darken-1">
                <div class="card-content">
                  <span class="card-title">
                      register as a new user {{ registerForm.hasError('emailNotSame')}}
                  </span>
                  <form class="col s12 white" #form="ngForm" [formGroup]="registerForm" (ngSubmit)="OnSubmit(registerForm)">

                    <input (change)="avatarSelected($event)" id="input-file-id" multiple type="file" multiple />
                    <image-cropper
                      [imageChangedEvent]="avatarSelectedEvent"
                      [maintainAspectRatio]="true"
                      [aspectRatio]="4 / 3"
                      [resizeToWidth]="128"
                      format="png"
                      (imageCropped)="avatarCropped($event)"
                    ></image-cropper>

                    <mat-form-field>
                      <input matInput placeholder="Email" formControlName="email" required>
                      <mat-error *ngIf="registerForm.get('email').errors && registerForm.get('email').errors.required">
                        Email is required
                      </mat-error>
                      <mat-error *ngIf="registerForm.get('email').errors && !registerForm.get('email').errors.required && registerForm.get('email').errors.email">
                        Please enter a valid email address
                      </mat-error>
                      <mat-error *ngIf="registerForm.get('email').errors && registerForm.get('email').errors.exists">
                        This Email already Exists
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                      <input matInput placeholder="Confirm Email" formControlName="email2" required>
                      <mat-error *ngIf="registerForm.get('email2').errors && registerForm.get('email2').errors.emailNotSame">
                        Emails do not match
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                      <input matInput placeholder="Username" formControlName="username" required>
                      <mat-error *ngIf="registerForm.get('username').errors && registerForm.get('username').errors.required">
                        Username is required
                      </mat-error>
                      <mat-error *ngIf="registerForm.get('username').errors && registerForm.get('username').errors.exists">
                        Username already exists
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                      <input matInput placeholder="Full Name" formControlName="fullname">
                      <mat-error *ngIf="registerForm.get('fullname').errors && registerForm.get('fullname').errors.required">
                        Full Name is required
                      </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                      <input matInput type="password" placeholder="Password" formControlName="password" required>
                        <mat-error *ngIf="registerForm.get('password').errors && registerForm.get('password').errors.required">
                          Password is required
                      </mat-error>
                    </mat-form-field>
                      
                    <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid">
                      Sign Up
                    </button>
                  </form>
          </div>
        </div>
    </div>
  </div>
</div>
  <!-- <div *ngIF "message!==null;then createdMessage">ignore</div>
  <ng-template #createdMessage>{{message}} was created</ng-template> -->
 
