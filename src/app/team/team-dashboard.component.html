<h1>Projects</h1>
<div class="card-container">
	<mat-card class="dashboard-card" *ngFor='let project of projects' style="width:100%">

    <mat-card-header>
      <mat-card-title>
        <button mat-button (click)="getNode(team._id)">{{project.name}} <span class="node-label-left project-label">project</span></button>
        
        <span style="position: absolute; right: 10px;" *ngIf="project.unreadMessages != undefined" (click)="openUnreadMessagesPanel(project)">
          <mat-icon style="color: darkgray" >chat_bubble</mat-icon>
        </span>
        <span style="position: absolute; right: 10px;" *ngIf="project.unreadMessages != undefined && project.unreadMessages > 0"  (click)="openUnreadMessagesPanel(project)">
          <mat-icon style="color: black" [matBadge]="team.unreadMessages" matBadgeColor="warn">chat_bubble</mat-icon>
        </span>

      </mat-card-title>
    </mat-card-header>
    <mat-card-content class="node-counts">
      <a mat-stroked-button [routerLink]="['/node/Project/', project._id, 'permissions']"> 
        {{ project.members_count }} 
        <span class="material-icons">person</span> 
      </a>
      <button mat-stroked-button (click)="openListPanel(project._id, 'Issue')">
        {{ project.topic_counts.Issue || 0 }} 
        <span class="node-label-btm issue-label">issue</span>
      </button>
      <button mat-stroked-button (click)="openListPanel(project._id, 'Risk')">
        {{ project.topic_counts.Risk || 0 }} 
        <span class="node-label-btm risk-label">risk</span>
      </button>
      <button mat-stroked-button (click)="openListPanel(project._id, 'Deliverable')">
        {{ project.topic_counts.Deliverable || 0 }} 
        <span class="node-label-btm deliverable-label">Deliverable</span> 
      </button>
      <button mat-stroked-button (click)="openListPanel(project._id, 'Task')">
        {{ project.topic_counts.Task || 0 }} 
        <span class="node-label-btm task-label">Task</span>
      </button>
    </mat-card-content>

    <!-- <mat-card-actions>
      <button mat-button (click)="goToNode(project)">View Details</button>
    </mat-card-actions> -->

</mat-card>

</div>