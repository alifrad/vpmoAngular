
<div>
  <h1>My Teams
      <button mat-icon-button class="primary-300" (click)="openTeamCreateDialog(createTeamDialog)">
        <mat-icon> add </mat-icon>
      </button>
   </h1>
</div>

  
<!--
<mat-card class="example-card">
  <mat-card-header>
    <mat-card-title>
      <img src="../../assets/icons/Team-T-Icon.svg" height="15" width="15">
      <span class="pl-4">need to add a new team?</span>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div>
      this is for the time you need to establish a new organisaiton or new group of people working on projects
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="openTeamCreateDialog(createTeamDialog)">Create Team</button>
  </mat-card-actions>
</mat-card>
-->

<mat-card class="example-card" *ngFor='let team of teams'>

  <mat-card-header>
    <mat-card-title>
      <img src="../../assets/icons/Team-T-Icon.svg" height="15" width="15">
      <span class="pl-4"><b>{{team.name}}</b></span>
      <button *ngIf="team.unreadMessages != undefined" mat-icon-button class="unread-badge">
        {{ team.unreadMessages }}
      </button>
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <div>{{ team.members_count }} Members</div>
    <div>{{ team.projects_count }} Projects</div>

    <div class="node-counts">
      <div class="issues">{{ team.topic_counts.Issue || 0 }} Issues</div>
      <div class="risks">{{ team.topic_counts.Risk || 0 }} Risks</div>
      <div class="deliverables">{{ team.topic_counts.Deliverable || 0 }} Deliverables</div>
      <div class="tasks">{{ team.Task || 0 }} Tasks</div>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <button mat-button (click)="getNode(team._id)">View Details</button>
  </mat-card-actions>

</mat-card>

<ng-template #createTeamDialog>
  <h4>Create Team</h4>
  <mat-form-field class="full-width">
    <input [(ngModel)]="newTeamName" matInput />
  </mat-form-field>

  <div style="text-align: center;" class="full-width">
    <button (click)="createNewTeam()" mat-raised-button matTooltip="Creates the team">Create Team</button>
  </div>
</ng-template>