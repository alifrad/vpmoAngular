<div>
	<div>
		<button mat-button (click)="navigateBack()">Back</button>
	</div>
	<table mat-table [dataSource]="topics">
		<ng-container matColumnDef="name">
	        <th mat-header-cell *matHeaderCellDef> Name </th>
	        <td mat-cell *matCellDef="let topic"> {{ topic.name }} </td>
	    </ng-container>

	    <ng-container matColumnDef="description">
	        <th mat-header-cell *matHeaderCellDef> Description </th>
	        <td mat-cell *matCellDef="let topic" [innerHTML]="topic.content || '-'"></td>
	    </ng-container>

	    <ng-container matColumnDef="status">
	        <th mat-header-cell *matHeaderCellDef> Status </th>
	        <td mat-cell *matCellDef="let topic"> {{ STATUS_MAP[topic.status] }} </td>
	    </ng-container>

	    <ng-container matColumnDef="assignee">
	        <th mat-header-cell *matHeaderCellDef> Assignee </th>
	        <td mat-cell *matCellDef="let topic">
	        	<span *ngIf="topic.assignee && topic.assignee.fullname">{{ topic.assignee.fullname }}</span>
	        	<span *ngIf="!topic.assignee">N/A</span>
	        </td>
	    </ng-container>

	    <ng-container matColumnDef="due_date">
	        <th mat-header-cell *matHeaderCellDef> Due Date </th>
	        <td mat-cell *matCellDef="let topic"> {{ topic.due_date | date:'short' }} </td>
	    </ng-container>

	    <ng-container matColumnDef="created_at">
	        <th mat-header-cell *matHeaderCellDef> Created At </th>
	        <td mat-cell *matCellDef="let topic"> {{ topic.created_at | date:'short' }} </td>
	    </ng-container>

	    <ng-container matColumnDef="unreadMessages">
	        <th mat-header-cell *matHeaderCellDef> Unread Messages </th>
	        <td mat-cell *matCellDef="let topic"> {{ unreadMessages[topic._id] || 0 }} </td>
	    </ng-container>

	    <ng-container matColumnDef="severity" *ngIf="topicType == 'Issue'">
	        <th mat-header-cell *matHeaderCellDef> Severity </th>
	        <td mat-cell *matCellDef="let topic"> {{ SEVERITY_MAP[topic.severity] }} </td>
	    </ng-container>

	    <ng-container matColumnDef="impact" *ngIf="topicType == 'Risk'">
	        <th mat-header-cell *matHeaderCellDef> Impact </th>
	        <td mat-cell *matCellDef="let topic"> {{ IMPACT_MAP[topic.impact] }} </td>
	    </ng-container>

	    <ng-container matColumnDef="probability" *ngIf="topicType == 'Risk'">
	        <th mat-header-cell *matHeaderCellDef> Probability </th>
	        <td mat-cell *matCellDef="let topic"> {{ PROBABILITY_MAP[topic.probability] }} </td>
	    </ng-container>

	    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
	    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

	</table>
</div>